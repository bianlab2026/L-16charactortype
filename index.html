<!doctype html>
<html lang="ja" class="min-h-screen">


 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ’˜Lã‚­ãƒ£ãƒ©ã‚¿ã‚¤ãƒ—è¨ºæ–­</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700;900&amp;family=Quicksand:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  
	 
	<style>
  body {
  box-sizing: border-box;
	  /*å…¨ä½“ã®èƒŒæ™¯è‰²*/
  background: linear-gradient(135deg, #361D5F,#445B96,#361D5F) !important;
}

    
    :root {
      --primary-pink: #FF6B9D;
      --secondary-pink: #FFB3D1;
      --accent-purple: #9B7ED9;
      --bg-cream: #FFF8F0;
      --text-dark: #4A3B5C;
    }
    
    * {
      font-family: 'Zen Maru Gothic', sans-serif;
    }
    
    .font-english {
      font-family: 'Quicksand', sans-serif;
    }
    
    /* Floating elements animation */
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes floatReverse {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(20px) rotate(-5deg); }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }
    
    .float-element {
      animation: float 4s ease-in-out infinite;
    }
    
    .float-element-reverse {
      animation: floatReverse 5s ease-in-out infinite;
    }
    
    .pulse-element {
      animation: pulse 3s ease-in-out infinite;
    }
    
    /* Heart button styles */
		
.heart-btn {
  width: 50px;
  height: 50px;
  padding: 0;
  border: none;
  background: none;
  cursor: pointer;
  flex-shrink: 0;
ã€€cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease, filter 0.2s ease;
}
		

.heart-btn svg {
  width: 50px;
  height: 50px;
  fill: #e0e0e0;
  transition: 0.25s ease;
}
		
/* è‰²ã®å‰²ã‚Šå½“ã¦ */
.answer-btn[data-value="2"]  svg { fill: #ff6589; }   /* æ¿ƒãƒ”ãƒ³ã‚¯ */
.answer-btn[data-value="1"]  svg { fill: #ff98a8; }
.answer-btn[data-value="0"]  svg { fill: #ffcece; }   /* çœŸã‚“ä¸­ã ã‘ç´« */
.answer-btn[data-value="-1"] svg { fill: #ff98a8; }
.answer-btn[data-value="-2"] svg { fill: #ff6589; }


.heart-btn:hover {
  transform: scale(1.12);
  filter: brightness(0.9);
}

.heart-btn:active {
  transform: scale(0.8);
}

    /* Progress bar */
    .progress-bar {
      background: linear-gradient(90deg, var(--primary-pink), var(--accent-purple));
      transition: width 0.5s ease;
    }
    
    /* Card styles */
    .result-card {
      background: linear-gradient(145deg, #ffffff, #fff5fa);
      border-radius: 24px;
      box-shadow: 0 10px 40px rgba(255, 107, 157, 0.2);
    }
    
    /* Type badge colors */
    .badge-heart { background: linear-gradient(135deg, #FF6B9D, #FF8FB1); }
    .badge-diamond { background: linear-gradient(135deg, #FFD700, #FFA500); }
    .badge-clover { background: linear-gradient(135deg, #4CAF50, #8BC34A); }
    .badge-spade { background: linear-gradient(135deg, #607D8B, #455A64); }
    
    /* Shimmer effect */
    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }
    
    .shimmer {
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      background-size: 200% 100%;
      animation: shimmer 2s infinite;
    }
    
    /* Screen transitions */
    .screen {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
      display: none;
    }
    
    .screen.active {
      opacity: 1;
      transform: translateY(0);
      display: flex;
    }
    
    /* Share buttons */
    .share-btn {
      transition: all 0.3s ease;
    }
    
    .share-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
		
		
		
		
#back-btn {
  background: linear-gradient(135deg, #FF6194, #9673CE); /* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
  color: white; /* æ–‡å­—è‰²ã‚’ç™½ã« */
  padding: 0.5rem 1rem; /* ä¸Šä¸‹å·¦å³ã®ä½™ç™½ */
  border-radius: 50px; /* ä¸¸ã¿ */
  box-shadow: 0 4px 10px rgba(255, 107, 157, 0.3); /* ãµã‚“ã‚ã‚Šå½± */
  transition: all 0.3s ease; /* ãƒ›ãƒãƒ¼æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
  display: inline-flex; /* svgã¨ãƒ†ã‚­ã‚¹ãƒˆã‚’æ¨ªä¸¦ã³ã« */
  align-items: center;
  gap: 0.5rem; /* svgã¨æ–‡å­—ã®é–“éš” */
}

#back-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(255, 107, 157, 0.4);
}

#back-btn:disabled {
  background: #e0e0e0; /* ç„¡åŠ¹æ™‚ã®è‰² */
  color: #a0a0a0;
  cursor: not-allowed;
  box-shadow: none;
}


   
  </style>
	 
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
	
	
	  <!-- æœ¬ä½“ã“ã“ã‹ã‚‰ -->
	
	
 <body class="h-full bg-gradient-to-br from-pink-50 via-purple-50 to-pink-100 min-h-screen">
  
	 
	 <div id="app" class="w-full h-full relative">
	  
	  
	  <!-- Start Screen -->
   <div id="start-screen" class="screen active flex-col items-center justify-center min-h-full w-full p-6 relative overflow-hidden">
	   
	   
	   
	 
<!-- ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã®å®‡å®™ -->
<div class="absolute inset-0 pointer-events-none overflow-hidden">

 <!-- Uranus -->
<div class="float-element absolute top-10 left-10 w-20 h-20 opacity-50">
  <img
    src="./images/uranus.png" alt="uranus"
    class="w-full h-full object-contain"
  >
</div>


  <!-- Venus -->
<div class="float-element-reverse absolute top-20 right-16 w-14 h-14 opacity-60">
  <img
    src="./images/venus.png" alt="venus"
    class="w-full h-full object-contain"
  >
</div>

<!-- Earth -->
<div class="pulse-element absolute bottom-32 left-20 w-12 h-12 opacity-50">
  <img
    src="./images/earth.png" alt="earth"
    class="w-full h-full object-contain"
  >
</div>

<!-- Mars -->
<div class="float-element absolute bottom-20 right-10 w-16 h-16 opacity-55">
  <img
    src="./images/mars.png" alt="mars"
    class="w-full h-full object-contain"
  >
</div>

<!-- Jupiter -->
<div class="float-element-reverse absolute top-1/2 left-6 w-20 h-20 opacity-45">
  <img
    src="./images/jupiter.png" alt="jupiter"
    class="w-full h-full object-contain"
  >
</div>

<!-- Saturn -->
<div class="pulse-element absolute top-1/3 right-10 w-14 h-14 opacity-40">
  <img
    src="./images/saturn.png" alt="saturn"
    class="w-full h-full object-contain"
  >
</div>

<!-- Neptune -->
<div class="float-element absolute top-2/3 left-1/4 w-12 h-12 opacity-50">
  <img
    src="./images/neptune.png" alt="neptune"
    class="w-full h-full object-contain"
  >
</div>

<!-- Mercury -->
<div class="float-element-reverse absolute bottom-1/4 right-1/3 w-20 h-20 opacity-45">
  <img
    src="./images/mercury.png" alt="/mercury"
    class="w-full h-full object-contain"
  >
</div>


		
    </div>
	   
	   
<!-- Main content -->
<div class="relative z-10 flex flex-col items-center max-w-md mx-auto">

  <!-- Main illustration -->
  <div class="w-90 h-50 mb-8 rounded-3xl flex items-center justify-center overflow-hidden">
    <img
      src="./images/main.png"
      alt="ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ©ã‚¹ãƒˆ"
      class="w-full h-full object-contain"
      loading="lazy"
    >
  </div>

</div>


		
		
		<!-- Title -->
     <h1 id="main-title" class="text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-200 via-white to-pink-200 mb-2 text-center">Lã‚­ãƒ£ãƒ©ã‚¿ã‚¤ãƒ—è¨ºæ–­</h1>
     <p id="subtitle" class="text-white text-center mb-8 text-sm md:text-base">ãƒ¬ã‚ºãƒ“ã‚¢ãƒ³ã®ãŸã‚ã®16ã‚¿ã‚¤ãƒ—è¨ºæ–­ãƒ„ãƒ¼ãƒ«</p><!-- Start button --> <button id="start-btn" class="relative px-12 py-4 bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500 text-white font-bold text-lg rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 overflow-hidden"> <span class="relative z-10" id="start-button-text">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆï¼</span>
      <div class="absolute inset-0 shimmer"></div></button>
     <p class="text-xs text-white mt-6 text-center">å…¨12å•ãƒ»ç´„3åˆ†ã§å®Œäº†</p>
    </div>
   </div>
	 
	 
	 
<!-- Question Screen -->
<div
  id="question-screen"
  class="screen hidden flex flex-col items-center min-h-screen w-full px-4 md:px-6"
>
  <!-- Progress section -->
  <div class="w-full max-w-lg mb-6">
    <div class="flex justify-between items-center mb-2">
      <span class="text-sm font-medium text-white">
        è³ªå• <span id="current-q">1</span> / <span id="total-q">12</span>
      </span>
    </div>

    <div class="w-full h-3 bg-white rounded-full overflow-hidden">
      <div
        id="progress-bar"
        class="progress-bar h-full rounded-full"
        style="width: 8.33%"
      ></div>
    </div>
  </div>

  <!-- Question card -->
  <div class="w-full max-w-lg bg-white rounded-3xl shadow-xl p-6 md:p-8 mb-8">
    <h2 id="question-text" class="text-lg md:text-xl font-bold text-gray-800 text-center mb-8 leading-relaxed">
      å¤œã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã®é¡˜æœ›ã¯ï¼Ÿ
    </h2>

		
		
		<!-- å›ç­”ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ heart buttons -->
     <div class="flex justify-center items-center gap-6 mb-8"><!-- items-center gap-3 mb-8"ã¯ãƒœã‚¿ãƒ³åŒå£«ã®è·é›¢ -->
		 
<button class="answer-btn" data-value="2" title="Strong Left">
       <div class="heart-btn">
		 <svg viewBox="0 0 24 22" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 21s-7.5-4.7-10-9.2C-0.2 7.6 2.2 3 6.6 3c2.4 0 3.8 1.4 5.4 3.2C13.6 4.4 15 3 17.4 3 21.8 3 24.2 7.6 22 11.8 19.5 16.3 12 21 12 21z"/>
  </svg>
		   </div></button> 
	
		 
<button class="answer-btn" data-value="1" title="Moderate Left">
       <div class="heart-btn">
			 <svg viewBox="0 0 24 22" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 21s-7.5-4.7-10-9.2C-0.2 7.6 2.2 3 6.6 3c2.4 0 3.8 1.4 5.4 3.2C13.6 4.4 15 3 17.4 3 21.8 3 24.2 7.6 22 11.8 19.5 16.3 12 21 12 21z"/>
  </svg></div>
</button>
		 
<button class="answer-btn" data-value="0" title="Neutral">
       <div class="heart-btn">
			<svg viewBox="0 0 24 22" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 21s-7.5-4.7-10-9.2C-0.2 7.6 2.2 3 6.6 3c2.4 0 3.8 1.4 5.4 3.2C13.6 4.4 15 3 17.4 3 21.8 3 24.2 7.6 22 11.8 19.5 16.3 12 21 12 21z"/>
  </svg></div>
</button>
		 
<button class="answer-btn" data-value="-1" title="Moderate Right">
       <div class="heart-btn">
			<svg viewBox="0 0 24 22" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 21s-7.5-4.7-10-9.2C-0.2 7.6 2.2 3 6.6 3c2.4 0 3.8 1.4 5.4 3.2C13.6 4.4 15 3 17.4 3 21.8 3 24.2 7.6 22 11.8 19.5 16.3 12 21 12 21z"/>
  </svg></div>
</button>
		 
<button class="answer-btn" data-value="-2" title="Strong Right">
       <div class="heart-btn">
		<svg viewBox="0 0 24 22" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 21s-7.5-4.7-10-9.2C-0.2 7.6 2.2 3 6.6 3c2.4 0 3.8 1.4 5.4 3.2C13.6 4.4 15 3 17.4 3 21.8 3 24.2 7.6 22 11.8 19.5 16.3 12 21 12 21z"/>
  </svg></div>
</button>
		 
     </div>
		
		
		
		<!-- Left and right labels -->

     <div class="flex justify-between items-center px-4 w-full"><span id="option-left" class="text-gray-700 font-medium text-sm">æ”»ã‚ãŸã„</span> <span id="option-right" class="text-gray-700 font-medium text-sm">æ”»ã‚ã‚‰ã‚ŒãŸã„</span>
     </div>
    </div>
	   
	   <!-- Back button --> 
	   <button id="back-btn" class="text-gray-700 hover:text-gray-600 text-sm flex items-center gap-2 transition-colors disabled:opacity-30" disabled>
		   
		   
		   
     <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
     </svg> å‰ã®è³ªå•ã«æˆ»ã‚‹ </button>
   </div>
	  
	  
	 <!-- Result Screen -->
   <div id="result-screen" class="screen flex-col items-center min-h-full w-full p-4 md:p-6 pb-12">
    <div class="w-full max-w-lg"><!-- Result header -->
     <div class="text-center mb-6">
      <p class="text-sm text-white mb-2">ã‚ãªãŸã®è¨ºæ–­çµæœã¯...</p>
      <div id="type-badge" class="inline-block px-4 py-1 rounded-full text-white text-sm font-bold mb-3 badge-heart">
       â¤ï¸ PLå‹
      </div>
     </div>
		
		<!-- Main result card -->
     <div class="result-card p-6 md:p-8 mb-6">
		 
		 <!-- Character illustration -->
      <div class="w-41 h-41 mx-auto mb-4">
		  
		  <img id="result-image" src="images/TPLO.png" 
			   alt="ã‚­ãƒ£ãƒ©ã‚¤ãƒ©ã‚¹ãƒˆ" 
			  class="max-w-full max-h-full object-contain"
			   loading="lazy" 
			   onerror="this.parentElement.innerHTML='<div class=\'w-full h-full flex items-center justify-center text-5xl\'>ğŸ‘‘</div>'">
		  
		  
      </div><!-- Type name -->
      <div class="text-center mb-4">
       <p class="font-english text-lg text-purple-600 font-bold mb-1" id="result-code">TPLO</p>
       <h2 class="text-2xl md:text-3xl font-bold text-gray-800" id="result-name">ãƒ€ãƒ¼ã‚¯ã‚¯ã‚¤ãƒ¼ãƒ³</h2>
      </div><!-- Description -->
      <p id="result-description" class="text-gray-600 text-sm leading-relaxed text-center">æ‹æ„›ã§ã¯å¼·æ°—ã§ãƒªãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒå¤šãã€è‡ªåˆ†ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å‹•ãã“ã¨ã‚’å¥½ã¿ã¾ã™ã€‚ ç›¸æ‰‹ã‚’å¼•ãã¤ã‘ã‚‹ã‚«ãƒªã‚¹ãƒæ€§ãŒã‚ã‚Šã¾ã™ãŒã€ã¨ãã«ç‹¬å çš„ã«ãªã‚Šã™ãã‚‹ã“ã¨ã‚‚ã€‚</p>
     </div><!-- Compatibility section -->
     <div class="bg-white rounded-2xl shadow-lg p-5 mb-6">
      <h3 class="text-center font-bold text-gray-800 mb-4">ğŸ’• ç›¸æ€§è¨ºæ–­</h3><!-- Good matches -->
      <div class="mb-4">
       <p class="text-xs text-green-600 font-medium mb-2 flex items-center gap-1"><span>âœ¨</span> ç›¸æ€§ã´ã£ãŸã‚Š</p>
       <div class="flex gap-3">
        <div class="flex-1 bg-green-50 rounded-xl p-3 text-center">
         <p class="font-english text-sm font-bold text-green-700" id="match1-code">CKGO</p>
         <p class="text-xs text-green-600" id="match1-name">ã‚½ãƒ•ãƒˆã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³</p>
        </div>
        <div class="flex-1 bg-green-50 rounded-xl p-3 text-center">
         <p class="font-english text-sm font-bold text-green-700" id="match2-code">CKLO</p>
         <p class="text-xs text-green-600" id="match2-name">ãƒãƒªãƒ³ãƒŸãƒ¥ãƒ¼ã‚º</p>
        </div>
       </div>
      </div><!-- Bad match -->
      <div>
       <p class="text-xs text-red-400 font-medium mb-2 flex items-center gap-1"><span>âš ï¸</span> ç›¸æ€§æ³¨æ„</p>
       <div class="bg-red-50 rounded-xl p-3 text-center">
        <p class="font-english text-sm font-bold text-red-400" id="bad-match-code">TPGO</p>
        <p class="text-xs text-red-400" id="bad-match-name">ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ©ãƒ“ãƒƒãƒˆ</p>
       </div>
      </div>
     </div><!-- Share section -->
     <div class="bg-white rounded-2xl shadow-lg p-5 mb-6">
      <h3 class="text-center font-bold text-gray-800 mb-4">ğŸ“¤ çµæœã‚’ã‚·ã‚§ã‚¢</h3>
      <div class="flex gap-3 justify-center flex-wrap"><!-- Copy link --> <button id="copy-link-btn" class="share-btn flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700 text-sm font-medium">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        </svg> ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ </button> <!-- LINE share --> <a id="line-share-btn" href="#" target="_blank" rel="noopener noreferrer" class="share-btn flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 rounded-full text-white text-sm font-medium">
        <svg class="w-4 h-4" viewbox="0 0 24 24" fill="currentColor"><path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63.349 0 .631.285.631.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.349 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.281.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"></path>
        </svg> LINE </a> <!-- X (Twitter) share --> <a id="x-share-btn" href="#" target="_blank" rel="noopener noreferrer" class="share-btn flex items-center gap-2 px-4 py-2 bg-black hover:bg-gray-800 rounded-full text-white text-sm font-medium">
        <svg class="w-4 h-4" viewbox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
        </svg> X </a>
      </div><!-- Copy success message -->
      <p id="copy-success" class="text-center text-green-600 text-sm mt-3 hidden">âœ“ ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</p>
     </div><!-- Retry button --> <button id="retry-btn" class="w-full py-4 bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all"> ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ ğŸ”„ </button>
    </div>
   </div>

  <script>
    // ============================================
    // DATA & CONFIGURATION
    // ============================================
    
    const defaultConfig = {
      main_title: 'ğŸ’˜Lã‚­ãƒ£ãƒ©ã‚¿ã‚¤ãƒ—è¨ºæ–­',
      subtitle: 'ãƒ¬ã‚ºãƒ“ã‚¢ãƒ³ã®ãŸã‚ã®16ã‚¿ã‚¤ãƒ—è¨ºæ–­ãƒ„ãƒ¼ãƒ«',
      start_button_text: 'è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ â™¡',
      primary_color: '#FF6B9D',
      secondary_color: '#9B7ED9',
      background_color: '#FFF8F0',
      text_color: '#4A3B5C',
      accent_color: '#FFB3D1'
    };
    
    let config = { ...defaultConfig };
    
	 
	  
	  
    // Character data
    const characters = {
      'TPLO': { name: 'ãƒ€ãƒ¼ã‚¯ã‚¯ã‚¤ãƒ¼ãƒ³', type: 'PLå‹', symbol: 'â¤ï¸', badge: 'badge-heart',
        description: 'æ‹æ„›ã§ã¯å¼·æ°—ã§ãƒªãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒå¤šãã€è‡ªåˆ†ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å‹•ãã“ã¨ã‚’å¥½ã¿ã¾ã™ã€‚ç›¸æ‰‹ã‚’å¼•ãã¤ã‘ã‚‹ã‚«ãƒªã‚¹ãƒæ€§ãŒã‚ã‚Šã¾ã™ãŒã€ã¨ãã«ç‹¬å çš„ã«ãªã‚Šã™ãã‚‹ã“ã¨ã‚‚ã€‚æ„Ÿæƒ…è¡¨ç¾ã¯è±Šã‹ã§ã€æƒ…ç†±çš„ã«æ‹ã«å‘ãåˆã„ã¾ã™ã€‚' },
      'TPLS': { name: 'ã‚­ãƒ£ãƒªã‚¢ã‚¦ãƒ¼ãƒãƒ³', type: 'PLå‹', symbol: 'â¤ï¸', badge: 'badge-heart',
        description: 'æ‹æ„›ã¯åŠ¹ç‡é‡è¦–ã§è¨ˆç”»çš„ã«å‹•ãã‚¿ã‚¤ãƒ—ã§ã™ã€‚è‡ªç«‹å¿ƒãŒå¼·ãã€ç›¸æ‰‹ã«é ¼ã‚‹ã‚ˆã‚Šã‚‚è‡ªåˆ†ã§è§£æ±ºã™ã‚‹ã“ã¨ã‚’å¥½ã¿ã¾ã™ã€‚ã—ã‹ã—å¿ƒã®å¥¥ã§ã¯ç”˜ãˆãŸã„æ°—æŒã¡ã‚‚æŒã£ã¦ãŠã‚Šã€ä¿¡é ¼ã§ãã‚‹ç›¸æ‰‹ã«ã¯è¦‹ã›ã‚‹ã“ã¨ã‚‚ã€‚' },
      'CPLO': { name: 'ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼', type: 'PLå‹', symbol: 'â¤ï¸', badge: 'badge-heart',
        description: 'æ„Ÿè¦šã§åˆ¤æ–­ã™ã‚‹ã“ã¨ãŒå¤šãè‡ªåˆ†ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è²«ãã‚¿ã‚¤ãƒ—ã§ã™ã€‚è‡ªç”±ã§æ˜ã‚‹ã„é›°å›²æ°—ã‚’æŒã¡ã€ä»–è€…ã¨æ‰“ã¡è§£ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚æ‹æ„›ã§ã¯è‡ªåˆ†ã®å€‹æ€§ã‚’å¤§åˆ‡ã«ã—ã¤ã¤ã€ã‚¹ãƒˆãƒ¬ã‚¹ã®ãªã„é–¢ä¿‚ã‚’å¥½ã¿ã¾ã™ã€‚' },
      'CPLS': { name: 'ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ©ã‚¤ãƒ€ãƒ¼', type: 'PLå‹', symbol: 'â¤ï¸', badge: 'badge-heart',
        description: 'æµè¡Œã‚„å†’é™ºã‚’æ¥½ã—ã‚€ã‚¿ã‚¤ãƒ—ã§ã€æ‹æ„›ã«ã‚‚è‡ªç”±ãªã‚¹ã‚¿ãƒ³ã‚¹ã‚’æŒã¡ã¾ã™ã€‚ç¸›ã‚‰ã‚Œã‚‹ã‚ˆã‚Šã‚‚è»½ã‚„ã‹ã§æŸ”è»Ÿãªé–¢ä¿‚ã‚’å¥½ã¿ã¾ã™ã€‚æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã™ã‚‹å‹‡æ°—ãŒã‚ã‚Šã€æ‹ã‚‚è‡ªåˆ†ã‚‰ã—ãæ¥½ã—ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚' },
      'TPGO': { name: 'ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ©ãƒ“ãƒƒãƒˆ', type: 'PGå‹', symbol: 'âœ¨', badge: 'badge-diamond',
        description: 'æ‹æ„›ã§ã¯ç©æ¥µçš„ã«è¡Œå‹•ã—ã€ç›¸æ‰‹ã‚’å¼•ã£å¼µã‚‹ã“ã¨ã‚’å¥½ã‚€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚è‡ªåˆ†ã®æ€ã„ã‚’ç´ ç›´ã«è¡¨ç¾ã—ã€ã‚ªãƒ¼ãƒ—ãƒ³ã«æ‹æ„›ã‚’æ¥½ã—ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚å‘¨å›²ã‚’å·»ãè¾¼ã¿ãªãŒã‚‰ã€æ˜ã‚‹ãå‰å‘ããªé–¢ä¿‚ã‚’ç¯‰ãã®ãŒç†æƒ³ã§ã™ã€‚' },
      'TPGS': { name: 'ã‚¬ãƒ©ã‚¹ãƒ—ãƒªãƒ³ã‚¹', type: 'PGå‹', symbol: 'âœ¨', badge: 'badge-diamond',
        description: 'å¤–è¦‹ã¯è‡ªä¿¡ã«æº€ã¡ã¦ã„ã¾ã™ãŒã€å†…é¢ã§ã¯æ…é‡ã§æ§ãˆã‚ãªé¢ãŒã‚ã‚Šã¾ã™ã€‚æ‹æ„›ã§ã¯ç§˜å¯†ä¸»ç¾©ã§ã€ç›¸æ‰‹ã«å…¨ã¦ã‚’ã•ã‚‰ã‘å‡ºã™ã“ã¨ï¿½ï¿½å°‘ãªã„ã§ã—ã‚‡ã†ã€‚ãƒ­ãƒãƒ³ãƒãƒƒã‚¯ãªæ€§æ ¼ã§ã‚ã‚Šã€ç”˜ãˆã‚‹ã“ã¨ã‚’è¨±ã—ã¦ãã‚Œã‚‹ç›¸æ‰‹ã‚’æœ›ã¿ã¾ã™ã€‚' },
      'CPGO': { name: 'ãƒªãƒˆãƒ«ãƒ–ãƒ©ã‚¶ãƒ¼', type: 'PGå‹', symbol: 'âœ¨', badge: 'badge-diamond',
        description: 'æ‹æ„›ã§ã¯ç”˜ãˆä¸Šæ‰‹ã§å¯æ„›ã‚‰ã—ã„å°è±¡ã‚’ä¸ãˆã‚‰ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚è‡ªåˆ†è»¸ãªé¢ã‚‚ã‚ã‚Šã€è‡ªåˆ†ã®ä»Šã®æ€ã„ã‚„æ„Ÿæƒ…ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚æŸ”ã‚‰ã‹ãæ„›ã•ã‚Œã‚‹é­…åŠ›ãŒã‚ã‚Šã€å®ˆã£ã¦ã‚ã’ãŸããªã‚‹å­˜åœ¨ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚' },
      'CPGS': { name: 'ã‚ªãƒ•ã‚£ã‚¹DJ', type: 'PGå‹', symbol: 'âœ¨', badge: 'badge-diamond',
        description: 'æ§ãˆã‚ã§å†…å‘çš„ã§ã™ãŒã€æ‹æ„›ã§ã¯ç›¸æ‰‹ã‚’å¤§åˆ‡ã«æ€ã†å„ªã—ã•ãŒã‚ã‚Šã¾ã™ã€‚ç§˜å¯†ä¸»ç¾©ãªé¢ãŒã‚ã‚Šã€å…¨ã¦ã‚’ã™ãã«è¦‹ã›ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é™ã‹ã§è½ã¡ç€ã„ãŸé­…åŠ›ãŒã‚ã‚Šã€éš ã‚ŒãŸé­…åŠ›ã§ç›¸æ‰‹ã‚’æƒ¹ãã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚' },
      'TKLO': { name: 'ã‚­ãƒ³ã‚°ãƒãƒ ', type: 'KLå‹', symbol: 'â˜˜ï¸', badge: 'badge-clover',
        description: 'æ‹æ„›ã§ã¯é ¼ã‚Œã‚‹å­˜åœ¨ã¨ã—ã¦ã€ç›¸æ‰‹ã‚’åŒ…ã¿è¾¼ã¿æ”¯ãˆã‚‹ã“ã¨ã‚’å¥½ã¾ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚å¼·ã•ã¨å„ªã—ã•ã‚’å…¼ã­å‚™ãˆã€æ‹äººã«å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®‰å®šæ„Ÿã¨åŒ…å®¹åŠ›ã®ã‚ã‚‹æ€§æ ¼ãŒã€æ‹æ„›ã«ãŠã„ã¦ä¿¡é ¼ã‚’ç”Ÿã‚€ã§ã—ã‚‡ã†ã€‚' },
      'TKLS': { name: 'ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¹ãƒ‘ã‚¤', type: 'KLå‹', symbol: 'â˜˜ï¸', badge: 'badge-clover',
        description: 'æ‹æ„›ã§ã¯åˆºæ¿€çš„ã§ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ãªé­…åŠ›ã‚’æ”¾ãŸã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚å¥½å¥‡å¿ƒãŒæ—ºç››ã§ã€æ‹äººï¿½ï¿½ãƒ‰ã‚­ãƒ‰ã‚­ã•ã›ã‚‹è¡Œå‹•ã‚’å¥½ã¾ã‚Œã¾ã™ã€‚æ‹æ„›ã«ãŠã‘ã‚‹é§†ã‘å¼•ãã‚„å†’é™ºå¿ƒãŒã€é–¢ä¿‚ã‚’ã‚ˆã‚Šæ·±ãé­…åŠ›çš„ã«ã—ã¾ã™ã€‚' },
      'CKLO': { name: 'ãƒãƒªãƒ³ãƒŸãƒ¥ãƒ¼ã‚º', type: 'KLå‹', symbol: 'â˜˜ï¸', badge: 'badge-clover',
        description: 'æ§ãˆã‚ã§é™ã‹ãªé›°å›²æ°—ã‚’æŒãŸã‚Œã€ç©ã‚„ã‹ãªæ‹æ„›ã‚’å¥½ã¾ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ç›¸æ‰‹ã®æ°—æŒã¡ã‚’è¦³å¯Ÿã—ãªãŒã‚‰ã€æ…é‡ã«è·é›¢ã‚’ç¸®ã‚ã‚‰ã‚Œã¾ã™ã€‚å„ªã—ã•ã¨è½ã¡ç€ãã®ã‚ã‚‹æ€§æ ¼ãŒã€æ‹æ„›ã«ãŠã„ã¦ä¿¡é ¼ã§ãã‚‹å­˜åœ¨ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚' },
      'CKLS': { name: 'ãƒ”ã‚¯ã‚·ãƒ¼ã‚¨ãƒ«ãƒ•', type: 'KLå‹', symbol: 'â˜˜ï¸', badge: 'badge-clover',
        description: 'å¯æ„›ã‚‰ã—ãã€æ‹æ„›ãã®ã‚‚ã®ã«å¯¾ã™ã‚‹ç†æƒ³ãŒæ˜ç¢ºã«ã‚ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ç›¸æ‰‹ã®ãŸã‚ã«çŒ®èº«çš„ã«è¡Œå‹•ã™ã‚‹å§¿ãŒã€ç›¸æ‰‹ã®æ‹å¿ƒã‚’è‚²ã¦ã¾ã™ã€‚è»½ã‚„ã‹ã§æ„›ã‚‰ã—ã„é­…åŠ›ãŒã€æ‹æ„›é–¢ä¿‚ã«ãŠã„ã¦ç‹¬ç‰¹ã®é­…åŠ›ã‚’ç”Ÿã¿ã¾ã™ã€‚' },
      'TKGO': { name: 'ã‚¨ãƒªï¿½ï¿½ãƒˆãƒãƒˆãƒ©ãƒ¼', type: 'KGï¿½ï¿½ï¿½', symbol: 'â™ ï¸', badge: 'badge-spade',
        description: 'æ‹æ„›ã§ã¯ç›¸æ‰‹ã‚’é™°ã§æ”¯ãˆã‚‹ã“ã¨ã«å¹¸ç¦ã‚’æ„Ÿã˜ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ä¸€è¦‹æ§ãˆã‚ã§ç¤¼å„€æ­£ã—ãã€å®‰å®šæ„Ÿã¨å®‰å¿ƒæ„Ÿã‚’æä¾›ã•ã‚Œã¾ã™ã€‚èª å®Ÿã§çœŸé¢ç›®ãªæ€§æ ¼ãŒã€ä¿¡é ¼é–¢ä¿‚ã‚’æ·±ã‚ã‚‹å¤§ããªé­…åŠ›ã¨ãªã‚Šã¾ã™ã€‚' },
      'TKGS': { name: 'ãƒ©ãƒ–ãƒœãƒ ', type: 'KGå‹', symbol: 'â™ ï¸', badge: 'badge-spade',
        description: 'ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ã§åˆã‚ã¯ä¸æ€è­°ãªå°è±¡ã§ã™ã€‚é–¢ã‚ã£ã¦ã„ãã»ã©ã«é­…åŠ›ãŒå¢—ã—ã¦ã„ãã€æ‹äººã®ç‰¹æ¨©ã¨è¨€ã‚ã‚Œã‚‹ä¸€é¢ã‚’ãŸã¾ã«è¦‹ã›ã¦ãã‚Œï¿½ï¿½ï¿½ã™ã€‚æ‹æ„›ã«ãŠã„ã¦ã¯ã€ç‡ç›´ã§åˆ†ã‹ï¿½ï¿½ã‚„ã™ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å¥½ã¿ã¾ã™ã€‚' },
      'CKGO': { name: 'ã‚½ãƒ•ãƒˆã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³', type: 'KGå‹', symbol: 'â™ ï¸', badge: 'badge-spade',
        description: 'ç©ã‚„ã‹ã§å„ªã—ãã€æ‹æ„›ã§ã¯ç›¸æ‰‹ã‚’å®‰å¿ƒã•ã›ã‚‹ã“ã¨ã‚’å¤§åˆ‡ã«ã•ã‚Œã¾ã™ã€‚å®ˆã‚ŠãªãŒã‚‰ã‚‚å¼·è¦ã›ãšã€è‡ªç„¶ãªè·é›¢æ„Ÿã§é–¢ä¿‚ã‚’ç¯‰ã‹ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚æŸ”ã‚‰ã‹ãè½ã¡ç€ã„ãŸæ€§æ ¼ãŒã€ç›¸æ‰‹ã«ç™’ã—ã‚„å®‰ã‚‰ãã‚’æä¾›ã—ã¾ã™ã€‚' },
      'CKGS': { name: 'ã‚·ãƒ£ã‚¤ãƒ©ãƒ ', type: 'KGå‹', symbol: 'â™ ï¸', badge: 'badge-spade',
        description: 'æ‹æ„›ã«ãŠã„ã¦éç©æ¥µçš„ã§ã™ãŒã€ãã®æ€§æ ¼ã‚’é¢ç™½ã„ã¨æ„Ÿã˜ã¦ãã‚Œã‚‹äººã‚’å¥½ãã«ãªã‚ŠãŒã¡ã§ã™ã€‚ç›¸æ‰‹ã®å¥½æ„ã‚’æ„Ÿã˜ã‚‹ãŸã³ã«è‡ªèº«ã®æ°—æŒã¡ã«æ°—ã¥ãã€æ„›ã‚’è‚²ã¦ã¦ã„ãã¾ã™ã€‚ãã®ç´”çœŸã•ãŒã€æ‹æ„›ã«ãŠã„ã¦æ„›ã•ã‚Œã‚‹è¦ç´ ã¨ãªã‚Šã¾ã™ã€‚' }
    };
    
    // Questions data
    const questions = [
      { category: 'T/C', left: 'æ”»ã‚ãŸã„', right: 'æ”»ã‚ã‚‰ã‚ŒãŸã„', question: 'å¤œã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã®é¡˜æœ›ã¯ï¼Ÿ' },
      { category: 'T/C', left: 'è¦‹ãŸã„', right: 'è¦‹ã‚‰ã‚ŒãŸã„', question: 'è‡ªåˆ†ã®å®¹å§¿ã«é–¢ä¿‚ãªãã€ä¸‹ç€å§¿ã¯' },
      { category: 'T/C', left: 'ãƒ‰S', right: 'ãƒ‰M', question: 'è‡ªåˆ†ã¯ã©ã£ã¡ï¼Ÿ' },
		
      { category: 'P/K', left: 'æŒã£ã¦æ¬²ã—ã„', right: 'æŒã£ã¦ã‚ã’ãŸã„', question: 'æ‹äººã¨ã„ã‚‹æ™‚è·ç‰©ã‚’æŒã¤ã®ã¯ï¼Ÿ' },
      { category: 'P/K', left: 'å—ã‘æ­¢ã‚ã¦ãã‚Œã‚‹', right: 'é ¼ã£ã¦ãã‚Œã‚‹', question: 'æ‹äººã®ç†æƒ³åƒã¯ï¼Ÿ' },
      { category: 'P/K', left: 'è¨€ã‚ã‚ŒãŸã„', right: 'è¨€ã„ãŸã„', question: 'å¥½ãã£ã¦è¨€è‘‰ã¯ï¼Ÿ' },
		
      { category: 'G/L', left: 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—', right: 'ãƒ‰ãƒ¬ã‚¹', question: 'ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªå ´ã§ã®æœè£…ã¯ã©ã£ã¡ã‚’ç€ãŸã„ï¼Ÿ' },
      { category: 'G/L', left: 'ã¯ã„', right: 'ã„ã„ãˆ', question: 'ä½“ã®ãƒ©ã‚¤ãƒ³ã‚’å¼·èª¿ã—ãªã„æœã‚’é¸ã³ãŒã¡ï¼Ÿ' },
      { category: 'G/L', left: 'ã€Œã‹ã£ã“ã„ã„ã€', right: 'ã€Œã‹ã‚ã„ã„ã€', question: 'åˆå¯¾é¢ã§è¨€ã‚ã‚Œã¦ã©ã£ã¡ãŒå¬‰ã—ã„ï¼Ÿ' },
		
      { category: 'O/S', left: 'éš ã—ã¦ã„ãªã„', right: 'éš ã—ã¦ã„ã‚‹', question: 'è‡ªåˆ†ã®ã‚»ã‚¯ã‚·ãƒ£ãƒªãƒ†ã‚£ã‚’éš ã—ã¦ã„ã‚‹ã‹' },
      { category: 'O/S', left: 'æ°—ã«ãªã‚‰ãªã„', right: 'æ°—ã«ãªã‚‹', question: 'è‡ªåˆ†ã«å¯¾ã—ã¦ä»–è€…è©•ä¾¡ãŒæ°—ã«ãªã‚‹ã‹' },
      { category: 'O/S', left: 'ãã†æ€ã†', right: 'ãã†æ€ã‚ãªã„', question: 'ç”·æ€§ä»¥å¤–ã®æ€§åˆ¥ã®æ‹äººãŒã„ã‚‹äº‹å®Ÿã‚’å…¬è¡¨ã™ã‚‹ã“ã¨ã¯å‹‡æ°—ãŒã„ã‚‹' }
    ];
    
    let currentQuestion = 0;
    let answers = [];
    let scores = { TC: 0, PK: 0, GL: 0, OS: 0 };
    
    const screens = {
      start: document.getElementById('start-screen'),
      question: document.getElementById('question-screen'),
      result: document.getElementById('result-screen')
    };
    
    function showScreen(screenName) {
      Object.values(screens).forEach(screen => {
        screen.classList.remove('active');
      });
      screens[screenName].classList.add('active');
    }
    
    function startQuiz() {
      currentQuestion = 0;
      answers = [];
      scores = { TC: 0, PK: 0, GL: 0, OS: 0 };
      showScreen('question');
      renderQuestion();
    }
    
    function renderQuestion() {
      const q = questions[currentQuestion];
      
      document.getElementById('current-q').textContent = currentQuestion + 1;
      document.getElementById('total-q').textContent = questions.length;
      document.getElementById('question-text').textContent = q.question;
      document.getElementById('option-left').textContent = q.left;
      document.getElementById('option-right').textContent = q.right;
      
      const progress = ((currentQuestion + 1) / questions.length) * 100;
      document.getElementById('progress-bar').style.width = `${progress}%`;
      
      document.getElementById('back-btn').disabled = currentQuestion === 0;
      
      document.querySelectorAll('.answer-btn').forEach(btn => {
        btn.classList.remove('selected');
      });
      
      if (answers[currentQuestion] !== undefined) {
        const prevValue = answers[currentQuestion];
        document.querySelectorAll('.answer-btn').forEach(btn => {
          if (parseInt(btn.dataset.value) === prevValue) {
            btn.classList.add('selected');
          }
        });
      }
    }
    
    function selectAnswer(value) {
      answers[currentQuestion] = value;
      
      document.querySelectorAll('.answer-btn').forEach(btn => {
        btn.classList.remove('selected');
        if (parseInt(btn.dataset.value) === value) {
          btn.classList.add('selected');
        }
      });
      
      setTimeout(() => {
        if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          renderQuestion();
        } else {
          calculateResult();
        }
      }, 300);
    }
    
    function goBack() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
      }
    }
    
    function calculateResult() {
      scores.TC = (answers[0] || 0) + (answers[1] || 0) + (answers[2] || 0);
      scores.PK = (answers[3] || 0) + (answers[4] || 0) + (answers[5] || 0);
      scores.GL = (answers[6] || 0) + (answers[7] || 0) + (answers[8] || 0);
      scores.OS = (answers[9] || 0) + (answers[10] || 0) + (answers[11] || 0);
      
      const type = [
        scores.TC > 0 ? 'T' : 'C',
        scores.PK > 0 ? 'P' : 'K',
        scores.GL > 0 ? 'G' : 'L',
        scores.OS > 0 ? 'O' : 'S'
      ].join('');
      
      showResult(type);
    }
    
    function getCompatibility(type) {
      const t = type[0];
      const p = type[1];
      const g = type[2];
      const o = type[3];
      
      const oppositeTC = t === 'T' ? 'C' : 'T';
      const goodPK = 'K';
      
      const goodMatch1 = oppositeTC + goodPK + 'G' + o;
      const goodMatch2 = oppositeTC + goodPK + 'L' + o;
      
      let badMatch;
      if (t === 'T') {
        badMatch = 'T' + p + (g === 'G' ? 'L' : 'G') + o;
      } else {
        badMatch = 'C' + p + (g === 'G' ? 'L' : 'G') + o;
      }
      
      if (p === 'P') {
        badMatch = oppositeTC + 'P' + g + o;
      }
      
      return {
        good: [goodMatch1, goodMatch2],
        bad: badMatch
      };
    }
    
    function showResult(type) {
      const char = characters[type];
      if (!char) {
        console.error('Character not found for type:', type);
        return;
      }
      
      document.getElementById('result-code').textContent = type;
      document.getElementById('result-name').textContent = char.name;
      document.getElementById('result-description').textContent = char.description;
      
      const badge = document.getElementById('type-badge');
      badge.className = `inline-block px-4 py-1 rounded-full text-white text-sm font-bold mb-3 ${char.badge}`;
      badge.textContent = `${char.symbol} ${char.type}`;
      
      const img = document.getElementById('result-image');
      img.src = `images/${type}.png`;
      img.alt = char.name;
      
      const compat = getCompatibility(type);
      
      const match1 = characters[compat.good[0]];
      const match2 = characters[compat.good[1]];
      const badMatch = characters[compat.bad];
      
      if (match1) {
        document.getElementById('match1-code').textContent = compat.good[0];
        document.getElementById('match1-name').textContent = match1.name;
      }
      if (match2) {
        document.getElementById('match2-code').textContent = compat.good[1];
        document.getElementById('match2-name').textContent = match2.name;
      }
      if (badMatch) {
        document.getElementById('bad-match-code').textContent = compat.bad;
        document.getElementById('bad-match-name').textContent = badMatch.name;
      }
      
      updateShareLinks(type, char.name);
      
      showScreen('result');
    }
    
    function updateShareLinks(type, name) {
      const shareText = `Lã‚­ãƒ£ãƒ©ã‚¿ã‚¤ãƒ—è¨ºæ–­ã®çµæœã¯ã€${name}ã€‘(${type})ã‚¿ã‚¤ãƒ—ã§ã—ãŸï¼`;
      const shareUrl = window.location.href;
      
      const lineUrl = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`;
      document.getElementById('line-share-btn').href = lineUrl;
      
      const xUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
      document.getElementById('x-share-btn').href = xUrl;
    }
    
    function copyLink() {
      const type = document.getElementById('result-code').textContent;
      const name = document.getElementById('result-name').textContent;
      const shareText = `Lã‚­ãƒ£ãƒ©ã‚¿ã‚¤ãƒ—è¨ºæ–­ã®çµæœã¯ã€${name}ã€‘(${type})ã‚¿ã‚¤ãƒ—ã§ã—ãŸï¼\n${window.location.href}`;
      
      navigator.clipboard.writeText(shareText).then(() => {
        const successMsg = document.getElementById('copy-success');
        successMsg.classList.remove('hidden');
        setTimeout(() => {
          successMsg.classList.add('hidden');
        }, 2000);
      });
    }
    
    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      
      document.getElementById('main-title').textContent = config.main_title;
      document.getElementById('subtitle').textContent = config.subtitle;
      document.getElementById('start-button-text').textContent = config.start_button_text;
    }
    
    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              config.secondary_color = value;
              window.elementSdk.setConfig({ secondary_color: value });
            }
          },
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => {
              config.accent_color = value;
              window.elementSdk.setConfig({ accent_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }
    
    function mapToEditPanelValues(config) {
      return new Map([
        ['main_title', config.main_title || defaultConfig.main_title],
        ['subtitle', config.subtitle || defaultConfig.subtitle],
        ['start_button_text', config.start_button_text || defaultConfig.start_button_text]
      ]);
    }
    
    document.getElementById('start-btn').addEventListener('click', startQuiz);
    document.getElementById('retry-btn').addEventListener('click', () => showScreen('start'));
    document.getElementById('back-btn').addEventListener('click', goBack);
    document.getElementById('copy-link-btn').addEventListener('click', copyLink);
    
    document.querySelectorAll('.answer-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        selectAnswer(parseInt(btn.dataset.value));
      });
    });
    
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
	  

	  
	  
  </script>
			 
			 
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c98b3d806d3d2f5',t:'MTc3MDM2MDUxMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();
			 
			 
			 // ãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯å‡¦ç†
document.querySelectorAll('.answer-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const value = parseInt(btn.dataset.value, 10); // åŸºæ•°10ã§ç¢ºå®Ÿã«æ•°å€¤åŒ–
    selectAnswer(value);
  });
});

	  
	  
	  // è¦‹ãŸç›®ç”¨ã‚¯ãƒ©ã‚¹
    document.querySelectorAll('.answer-btn').forEach(b => {
      b.classList.remove('active');
    });
    btn.classList.add('active');
  });
});
	 
	 
</script>		 
</body>
</html>
